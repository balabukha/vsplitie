<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
	.form{
		padding: 20px 20px;
		background-color: yellow;
		display: inline-block;
	}
	.div{
		padding: 20px 20px;
		background-color: gray;
		display: inline-block;
		position: relative;

	}
	.p{
		padding: 20px 20px;
		background-color: green;
		display: inline-block;
	}
	.helper{
		padding: 5px 5px;
		background-color: #F6D155;
		border-radius: 1px;
		border: 1px solid #f2bd0d;
		/*display: block;*/
		/*margin: 10px;*/
		text-align: center;
		position: fixed;

	}
/*	.hidden{
		display: none;
	}*/
	</style>
</head>
<body>
	<form class="form">
		<div class="div">
			<p class="p">Hi, it's me</p>
		</div>
	</form>

<div class="div">
	<button data-count="counter" class="button_1">1</button>
</div>
<div class="div">
	<button data-count="counter" class="button_2">1</button>
</div>

<div>
	<button data-button-email="button-email">enter your email</button>
	<input class="inputClass" hidden type="email" name="email">
</div>

<button data-tooltip="подсказка длиннее, чем элемент">Короткая кнопка</button>
<button data-tooltip="HTML<br>подсказка">Ещё кнопка</button>
<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>

	<script type="text/javascript">
	
	var message = document.querySelectorAll('form,div,p');
	console.log(message);

	for (var i = 0; i < message.length; i++) {
		message[i].addEventListener('click', highlighter, true);
	};

function highlighter(){
	// console.log(tagName)
	console.log(this.tagName)
};



// var buttons = document.querySelectorAll('button');
// for (var i = 0; i < buttons.length; i++) {
// 	buttons[i].onclick = function(e){
// 		console.log(this.innerHTML);
// 		this.innerHTML = +this.innerHTML + 1;
// 	}
// }

document.onclick = function(e){
if (!event.target.hasAttribute('data-count')) return
event.target.innerHTML++

// console.log(event.target);
// console.log(event.currentTarget);
};



document.onclick = function(event){
if (event.target.hasAttribute('data-count')) {
event.target.innerHTML++};

if (event.target.hasAttribute('data-button-email')) {
		var _elem = document.querySelector('.inputClass')
	_elem.hidden = !_elem.hidden;}
};

//************************* HW

// function helper(target){
//  var newDiv = document.createElement('div');
//  newDiv.classList.add('.helper');
//  newDiv.innerHTML = target;
//  this.parentNode.target.appendChild(newDiv);
// };

document.onmouseover = function(event){
	var target  = event.target;
	var helperNote  = target.getAttribute('data-tooltip');

 if (!helperNote) return;
 	
 	var newElem = document.createElement('div');
 	console.log(newElem);
 	newElem.className = 'helper';
 	newElem.innerHTML = helperNote;
 	document.body.appendChild(newElem);

 	var coordElem = target.getBoundingClientRect()
 	var left = coordElem.left + (target.offsetWidth - newElem.offsetWidth)/2;
 	if (left < 0 ) left = 0;
 	console.log(left);

 	var top = coordElem.top - newElem.offsetHeight - 5;
 	if (top < 0) {
 		top = coordElem.top + target.offsetHeight + 5;
 	};

newElem.style.left = left + 'px';
newElem.style.top = top + 'px';
};

document.onmouseout = function(event){
 if (event.target.hasAttribute('data-tooltip')) {
 	var newElem = document.getElementsByClassName('helper');
 	console.log(newElem[0]);
 	document.body.removeChild(newElem[0]);
 };
};






	</script>
</body>
</html>